# Автоматический коммит после изменений

После завершения изменений в коде/документации/конфигурации:

1. **ОБЯЗАТЕЛЬНО** обнови артефакты:
   - `CHANGELOG.md` (секция `## [Unreleased]`)
   - `AI_WORKLOG.md` (новая запись с датой, задачей, изменениями, файлами)

2. **ОБЯЗАТЕЛЬНО** добавь ВСЕ файлы в git (включая новые):
   - ВСЕГДА выполняй `git add .` перед коммитом
   - Это добавляет все измененные И новые файлы в staging
   - НЕ используй `git add <file>` для отдельных файлов - используй `git add .` чтобы ничего не потерять

3. **АВТОМАТИЧЕСКИ** создай коммит с правильным сообщением:
   - Формат: `git add . && git commit -m "<type>(client): <описание>"`
   - Тип определяется автоматически:
     - `feat(client):` - новая функциональность (lib/, android/, новые экраны/сервисы)
     - `fix(client):` - исправление бага (bug fixes, исправления ошибок)
     - `docs(client):` - документация (docs/, CHANGELOG.md, AI_WORKLOG.md, README.md)
     - `chore(client):` - технические изменения (pubspec.yaml, конфиги, скрипты)
     - `refactor(client):` - рефакторинг без изменения функциональности
     - `test(client):` - тесты (test/)

4. **Правила сообщения коммита:**
   - Короткое описание (до 50 символов идеально)
   - На русском языке
   - Без точки в конце
   - Описывает что сделано, а не как

5. **Примеры:**
   - `fix(client): исправлена кодировка в CHANGELOG.md`
   - `docs(client): добавлен план интеграции Redis`
   - `feat(client): добавлен скрипт авто коммита`
   - `chore(client): обновлены зависимости`

6. **КРИТИЧЕСКИ ВАЖНО:** 
   - ВСЕГДА используй `git add .` чтобы добавить ВСЕ файлы (новые и измененные) в git
   - НЕ оставляй файлы неотслеживаемыми (красными в IDE)
   - Коммит делается ТОЛЬКО после того, как все артефакты обновлены и изменения завершены
   - Все созданные файлы ДОЛЖНЫ быть добавлены в git перед коммитом

7. **НЕ коммить:**
   - Если пользователь явно просит не коммитить
   - Если изменения не завершены (в процессе)
   - Если есть ошибки линтера/тестов

