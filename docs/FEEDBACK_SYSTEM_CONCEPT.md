# ĞšĞ¾Ğ½Ñ†ĞµĞ¿Ñ‚: Ğ§Ğ°Ñ‚ Ñ Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‡Ğ¸ĞºĞ¾Ğ¼ (Orpheus Support Chat)

> **Ğ”Ğ°Ñ‚Ğ°**: Ğ¯Ğ½Ğ²Ğ°Ñ€ÑŒ 2026  
> **Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ**: âœ… Ğ Ğ•ĞĞ›Ğ˜Ğ—ĞĞ’ĞĞĞ  
> **Ğ’ĞµÑ€ÑĞ¸Ñ**: 2.0 â€” ĞŸĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ½Ñ‹Ğ¹ Ñ‡Ğ°Ñ‚ Ñ Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‡Ğ¸ĞºĞ¾Ğ¼

---

## 1. ĞšĞ»ÑÑ‡ĞµĞ²Ğ°Ñ Ğ¸Ğ´ĞµÑ

### âŒ ĞĞ• Ğ´ĞµĞ»Ğ°ĞµĞ¼ (Ñ‚Ğ¸ĞºĞµÑ‚Ğ½Ğ°Ñ ÑĞ¸ÑÑ‚ĞµĞ¼Ğ°)
- Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ğ¾Ğ±Ñ€Ğ°Ñ‰ĞµĞ½Ğ¸Ğµ â†’ Ğ–Ğ´Ğ°Ñ‚ÑŒ â†’ Ğ—Ğ°ĞºÑ€Ñ‹Ñ‚ÑŒ
- Ğ¢ĞµĞ¼Ñ‹, ÑÑ‚Ğ°Ñ‚ÑƒÑÑ‹, Ğ¿Ñ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚ĞµÑ‚Ñ‹
- "Ğ’Ğ°Ñˆ Ñ‚Ğ¸ĞºĞµÑ‚ #42 Ğ¿Ñ€Ğ¸Ğ½ÑÑ‚"

### âœ… Ğ”ĞµĞ»Ğ°ĞµĞ¼ (Ğ¿Ğ¾ÑÑ‚Ğ¾ÑĞ½Ğ½Ñ‹Ğ¹ Ñ‡Ğ°Ñ‚)
- Ğ£ ĞºĞ°Ğ¶Ğ´Ğ¾Ğ³Ğ¾ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ **Ğ¾Ğ´Ğ¸Ğ½ Ñ‡Ğ°Ñ‚** Ñ Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‡Ğ¸ĞºĞ¾Ğ¼
- Ğ§Ğ°Ñ‚ **Ğ²ÑĞµĞ³Ğ´Ğ° Ğ¾Ñ‚ĞºÑ€Ñ‹Ñ‚** â€” Ğ¿Ñ€Ğ¾ÑÑ‚Ğ¾ Ğ¿Ğ¸ÑˆĞ¸
- ĞšĞ½Ğ¾Ğ¿ĞºĞ° **"ĞÑ‚Ğ¿Ñ€Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ»Ğ¾Ğ³Ğ¸"** Ğ¿Ñ€ÑĞ¼Ğ¾ Ğ² Ñ‡Ğ°Ñ‚Ğµ
- Ğ Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‡Ğ¸Ğº Ğ²Ğ¸Ğ´Ğ¸Ñ‚ Ğ²ÑĞµ Ñ‡Ğ°Ñ‚Ñ‹ Ğ² Ğ°Ğ´Ğ¼Ğ¸Ğ½ĞºĞµ Ğ¸ Ğ¾Ñ‚Ğ²ĞµÑ‡Ğ°ĞµÑ‚

> **ĞĞ½Ğ°Ğ»Ğ¾Ğ³Ğ¸Ñ**: ĞšĞ°Ğº Ğ»Ğ¸Ñ‡Ğ½Ñ‹Ğ¹ Ñ‡Ğ°Ñ‚ Ğ² Telegram Ñ Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ¾Ğ¹. ĞĞ´Ğ¸Ğ½ Ğ´Ğ¸Ğ°Ğ»Ğ¾Ğ³, Ğ¸ÑÑ‚Ğ¾Ñ€Ğ¸Ñ ÑĞ¾Ñ…Ñ€Ğ°Ğ½ÑĞµÑ‚ÑÑ, Ğ¿Ğ¸ÑˆĞ¸ ĞºĞ¾Ğ³Ğ´Ğ° Ñ…Ğ¾Ñ‡ĞµÑˆÑŒ.

---

## 2. ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°

### 2.1 ĞĞ±Ñ‰Ğ°Ñ ÑÑ…ĞµĞ¼Ğ°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ĞšĞ›Ğ˜Ğ•ĞĞ¢         â”‚         â”‚  Ğ‘Ğ­ĞšĞ•ĞĞ”         â”‚         â”‚  ĞĞ”ĞœĞ˜ĞĞšĞ        â”‚
â”‚  (Flutter)      â”‚         â”‚  (orpheus)      â”‚         â”‚  (OPHEUS_ADMIN) â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ SupportChat     â”‚â—€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ support_messagesâ”‚â—€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ SupportRouter   â”‚
â”‚ Screen          â”‚  WS/HTTPâ”‚ client_logs     â”‚   API   â”‚ ChatListUI      â”‚
â”‚                 â”‚         â”‚                 â”‚         â”‚ ChatViewUI      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 Ğ¢Ğ°Ğ±Ğ»Ğ¸Ñ†Ñ‹ Ğ‘Ğ” (ÑƒĞ¿Ñ€Ğ¾Ñ‰Ñ‘Ğ½Ğ½Ñ‹Ğµ)

```sql
-- Ğ¡Ğ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ñ Ñ‡Ğ°Ñ‚Ğ° Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ¸ (Ğ²ÑĞµ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ğ¸ Ğ² Ğ¾Ğ´Ğ½Ğ¾Ğ¹ Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ğµ)
CREATE TABLE support_messages (
    id SERIAL PRIMARY KEY,
    pubkey VARCHAR(255) NOT NULL,           -- ID Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ (= ID Ñ‡Ğ°Ñ‚Ğ°)
    direction VARCHAR(10) NOT NULL,         -- 'user' Ğ¸Ğ»Ğ¸ 'admin'
    message TEXT NOT NULL,
    created_at TIMESTAMP NOT NULL DEFAULT NOW(),
    is_read BOOLEAN DEFAULT FALSE           -- ĞŸÑ€Ğ¾Ñ‡Ğ¸Ñ‚Ğ°Ğ½Ğ¾ Ğ»Ğ¸ (Ğ´Ğ»Ñ ÑƒĞ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ğ¹)
);
CREATE INDEX idx_support_messages_pubkey ON support_messages(pubkey);
CREATE INDEX idx_support_messages_created ON support_messages(created_at);

-- Debug-Ğ»Ğ¾Ğ³Ğ¸ Ğ¾Ñ‚ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ¾Ğ²
CREATE TABLE client_debug_logs (
    id SERIAL PRIMARY KEY,
    pubkey VARCHAR(255) NOT NULL,
    log_data TEXT NOT NULL,                 -- Ğ­ĞºÑĞ¿Ğ¾Ñ€Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ»Ğ¾Ğ³Ğ¸
    app_version VARCHAR(50),
    device_info TEXT,
    created_at TIMESTAMP NOT NULL DEFAULT NOW()
);
CREATE INDEX idx_client_logs_pubkey ON client_debug_logs(pubkey);
CREATE INDEX idx_client_logs_created ON client_debug_logs(created_at);
```

> **ĞŸÑ€Ğ¸Ğ¼ĞµÑ‡Ğ°Ğ½Ğ¸Ğµ**: ĞĞµÑ‚ Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ñ‹ tickets! ĞĞ´Ğ¸Ğ½ pubkey = Ğ¾Ğ´Ğ¸Ğ½ Ñ‡Ğ°Ñ‚. Ğ˜ÑÑ‚Ğ¾Ñ€Ğ¸Ñ Ğ²ĞµÑ‡Ğ½Ğ°Ñ.

---

## 3. ĞšĞ»Ğ¸ĞµĞ½Ñ‚ (Flutter)

### 3.1 ĞĞ¾Ğ²Ñ‹Ğ¹ ÑĞºÑ€Ğ°Ğ½: SupportChatScreen

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â† Ğ§ĞĞ¢ Ğ¡ Ğ ĞĞ—Ğ ĞĞ‘ĞĞ¢Ğ§Ğ˜ĞšĞĞœ                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                      â”‚
â”‚       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ 14:32 â”‚ ĞŸÑ€Ğ¸Ğ²ĞµÑ‚! Ğ£ Ğ¼ĞµĞ½Ñ Ğ¿Ñ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ° ÑĞ¾ â”‚ â”‚
â”‚   Ğ’Ñ‹  â”‚ Ğ·Ğ²Ğ¾Ğ½ĞºĞ°Ğ¼Ğ¸, Ğ¾Ğ±Ñ€Ñ‹Ğ²Ğ°ÑÑ‚ÑÑ...    â”‚ â”‚
â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                      â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ ĞŸÑ€Ğ¸Ğ²ĞµÑ‚! ĞœĞ¾Ğ¶ĞµÑˆÑŒ Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ»Ğ¾Ğ³Ğ¸? â”‚   â”‚
â”‚ â”‚ ĞŸĞ¾ÑĞ¼Ğ¾Ñ‚Ñ€Ñ Ñ‡Ñ‚Ğ¾ Ğ¿Ñ€Ğ¾Ğ¸ÑÑ…Ğ¾Ğ´Ğ¸Ñ‚.       â”‚ 15:10
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ Ğ Ğ°Ğ·Ñ€.
â”‚                                      â”‚
â”‚       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ 15:12 â”‚ ğŸ“ Debug-Ğ»Ğ¾Ğ³Ğ¸ Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ñ‹   â”‚ â”‚
â”‚   Ğ’Ñ‹  â”‚ (312 Ğ·Ğ°Ğ¿Ğ¸ÑĞµĞ¹)              â”‚ â”‚
â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                      â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ Ğ’Ğ¸Ğ¶Ñƒ! ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ° Ğ² TURN ÑĞµÑ€Ğ²ĞµÑ€Ğµ. â”‚   â”‚
â”‚ â”‚ Ğ˜ÑĞ¿Ñ€Ğ°Ğ²Ğ¸Ğ¼ Ğ² ÑĞ»ĞµĞ´. Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğ¸.   â”‚ 15:45
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ Ğ Ğ°Ğ·Ñ€.
â”‚                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [Ğ¡Ğ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ...]           [ğŸ“] [â¤]   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

[ğŸ“] â€” ĞºĞ½Ğ¾Ğ¿ĞºĞ° "ĞÑ‚Ğ¿Ñ€Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ»Ğ¾Ğ³Ğ¸"
[â¤]  â€” Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²Ğ¸Ñ‚ÑŒ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ
```

### 3.2 ĞĞ¾Ğ²Ñ‹Ğµ Ñ„Ğ°Ğ¹Ğ»Ñ‹

```
lib/
  screens/
    support_chat_screen.dart    # Ğ­ĞºÑ€Ğ°Ğ½ Ñ‡Ğ°Ñ‚Ğ° Ñ Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‡Ğ¸ĞºĞ¾Ğ¼
  services/
    support_chat_service.dart   # Ğ¡ĞµÑ€Ğ²Ğ¸Ñ Ğ´Ğ»Ñ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹ Ñ Ñ‡Ğ°Ñ‚Ğ¾Ğ¼

test/
  services/
    support_chat_service_test.dart
  widgets/
    support_chat_screen_test.dart
```

### 3.3 SupportChatService

```dart
class SupportChatService {
  static final instance = SupportChatService._();
  SupportChatService._();
  
  // Ğ›Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ñ‹Ğ¹ ĞºĞµÑˆ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğ¹
  final List<SupportMessage> _messages = [];
  List<SupportMessage> get messages => List.unmodifiable(_messages);
  
  // Stream Ğ´Ğ»Ñ UI
  final _messagesController = StreamController<List<SupportMessage>>.broadcast();
  Stream<List<SupportMessage>> get messagesStream => _messagesController.stream;
  
  // Ğ¡Ñ‡Ñ‘Ñ‚Ñ‡Ğ¸Ğº Ğ½ĞµĞ¿Ñ€Ğ¾Ñ‡Ğ¸Ñ‚Ğ°Ğ½Ğ½Ñ‹Ñ… (Ğ¾Ñ‚Ğ²ĞµÑ‚Ñ‹ Ğ¾Ñ‚ Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‡Ğ¸ĞºĞ°)
  int _unreadCount = 0;
  int get unreadCount => _unreadCount;
  
  /// Ğ—Ğ°Ğ³Ñ€ÑƒĞ·Ğ¸Ñ‚ÑŒ Ğ¸ÑÑ‚Ğ¾Ñ€Ğ¸Ñ Ñ‡Ğ°Ñ‚Ğ°
  Future<void> loadHistory() async {
    // GET /api/support/messages
  }
  
  /// ĞÑ‚Ğ¿Ñ€Ğ°Ğ²Ğ¸Ñ‚ÑŒ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ
  Future<void> sendMessage(String text) async {
    // POST /api/support/message
    // Ğ¸Ğ»Ğ¸ Ñ‡ĞµÑ€ĞµĞ· WebSocket: {"type": "support-msg", "text": "..."}
  }
  
  /// ĞÑ‚Ğ¿Ñ€Ğ°Ğ²Ğ¸Ñ‚ÑŒ debug-Ğ»Ğ¾Ğ³Ğ¸
  Future<void> sendLogs() async {
    final logsText = DebugLogger.exportToText();
    final deviceInfo = await _getDeviceInfo();
    
    // POST /api/support/logs
    // Ğ’ Ñ‡Ğ°Ñ‚Ğµ Ğ¿Ğ¾ÑĞ²Ğ¸Ñ‚ÑÑ ÑĞ¸ÑÑ‚ĞµĞ¼Ğ½Ğ¾Ğµ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ "ğŸ“ Debug-Ğ»Ğ¾Ğ³Ğ¸ Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ñ‹"
  }
  
  /// ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ²Ñ…Ğ¾Ğ´ÑÑ‰ĞµĞ³Ğ¾ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ñ Ğ¾Ñ‚ Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‡Ğ¸ĞºĞ°
  void _onAdminMessage(Map<String, dynamic> data) {
    final msg = SupportMessage.fromJson(data);
    _messages.add(msg);
    _unreadCount++;
    _messagesController.add(_messages);
  }
}
```

### 3.4 ĞœĞ¾Ğ´ĞµĞ»ÑŒ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ñ

```dart
enum MessageDirection { user, admin }

class SupportMessage {
  final int id;
  final MessageDirection direction;
  final String text;
  final DateTime createdAt;
  final bool isLogsAttachment;  // Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ½Ğ¾Ğµ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ Ğ¾ Ğ»Ğ¾Ğ³Ğ°Ñ…
  
  SupportMessage({
    required this.id,
    required this.direction,
    required this.text,
    required this.createdAt,
    this.isLogsAttachment = false,
  });
}
```

### 3.5 Ğ˜Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ Ğ² Settings

```dart
// lib/screens/settings_screen.dart

ListTile(
  leading: const Icon(Icons.support_agent, color: Colors.white70),
  title: const Text('ĞĞ°Ğ¿Ğ¸ÑĞ°Ñ‚ÑŒ Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‡Ğ¸ĞºÑƒ'),
  subtitle: const Text('Ğ’Ğ¾Ğ¿Ñ€Ğ¾ÑÑ‹, Ğ¿Ñ€Ğ¾Ğ±Ğ»ĞµĞ¼Ñ‹, Ğ¿Ñ€ĞµĞ´Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ'),
  trailing: _unreadCount > 0 
    ? Badge(label: Text('$_unreadCount')) 
    : null,
  onTap: () => Navigator.push(
    context,
    MaterialPageRoute(builder: (_) => const SupportChatScreen()),
  ),
),
```

---

## 4. Ğ‘ÑĞºĞµĞ½Ğ´ (orpheus)

### 4.1 ĞĞ¾Ğ²Ñ‹Ğµ endpoints

```python
# === SUPPORT CHAT API ===

class SupportMessageCreate(BaseModel):
    text: str

class SupportLogsCreate(BaseModel):
    logs_data: str  # Ğ”Ğ¾ 500KB
    app_version: Optional[str] = None
    device_info: Optional[str] = None


@app.get("/api/support/messages")
async def get_support_messages(
    x_pubkey: str = Header(...),
    limit: int = Query(100, le=500),
    before_id: Optional[int] = None,  # Ğ”Ğ»Ñ Ğ¿Ğ°Ğ³Ğ¸Ğ½Ğ°Ñ†Ğ¸Ğ¸
):
    """ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ Ğ¸ÑÑ‚Ğ¾Ñ€Ğ¸Ñ Ñ‡Ğ°Ñ‚Ğ°"""
    query = support_messages.select().where(
        support_messages.c.pubkey == x_pubkey
    ).order_by(support_messages.c.id.desc()).limit(limit)
    
    if before_id:
        query = query.where(support_messages.c.id < before_id)
    
    messages = await database.fetch_all(query)
    
    # ĞŸĞ¾Ğ¼ĞµÑ‡Ğ°ĞµĞ¼ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ñ Ğ¾Ñ‚ Ğ°Ğ´Ğ¼Ğ¸Ğ½Ğ° ĞºĞ°Ğº Ğ¿Ñ€Ğ¾Ñ‡Ğ¸Ñ‚Ğ°Ğ½Ğ½Ñ‹Ğµ
    await database.execute(
        support_messages.update()
        .where(support_messages.c.pubkey == x_pubkey)
        .where(support_messages.c.direction == 'admin')
        .values(is_read=True)
    )
    
    return {"messages": [dict(m) for m in reversed(messages)]}


@app.post("/api/support/message")
async def send_support_message(
    request: SupportMessageCreate,
    x_pubkey: str = Header(...),
):
    """ĞÑ‚Ğ¿Ñ€Ğ°Ğ²Ğ¸Ñ‚ÑŒ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ Ğ² Ñ‡Ğ°Ñ‚ Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ¸"""
    
    if len(request.text) > 5000:
        raise HTTPException(400, "Ğ¡Ğ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ ÑĞ»Ğ¸ÑˆĞºĞ¾Ğ¼ Ğ´Ğ»Ğ¸Ğ½Ğ½Ğ¾Ğµ (Ğ¼Ğ°ĞºÑ. 5000 ÑĞ¸Ğ¼Ğ²Ğ¾Ğ»Ğ¾Ğ²)")
    
    msg_id = await database.execute(
        support_messages.insert().values(
            pubkey=x_pubkey,
            direction='user',
            message=request.text,
            created_at=datetime.utcnow(),
        )
    )
    
    await log_event("SUPPORT", "ĞĞ¾Ğ²Ğ¾Ğµ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ Ğ¾Ñ‚ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ", 
                    pubkey=x_pubkey, details={"msg_id": msg_id})
    
    return {"id": msg_id, "status": "sent"}


@app.post("/api/support/logs")
async def send_support_logs(
    request: SupportLogsCreate,
    x_pubkey: str = Header(...),
):
    """ĞÑ‚Ğ¿Ñ€Ğ°Ğ²Ğ¸Ñ‚ÑŒ debug-Ğ»Ğ¾Ğ³Ğ¸"""
    
    if len(request.logs_data) > 500_000:
        raise HTTPException(400, "Ğ›Ğ¾Ğ³Ğ¸ ÑĞ»Ğ¸ÑˆĞºĞ¾Ğ¼ Ğ±Ğ¾Ğ»ÑŒÑˆĞ¸Ğµ (Ğ¼Ğ°ĞºÑ. 500KB)")
    
    # Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½ÑĞµĞ¼ Ğ»Ğ¾Ğ³Ğ¸
    log_id = await database.execute(
        client_debug_logs.insert().values(
            pubkey=x_pubkey,
            log_data=request.logs_data,
            app_version=request.app_version,
            device_info=request.device_info,
            created_at=datetime.utcnow(),
        )
    )
    
    # Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ÑĞµĞ¼ ÑĞ¸ÑÑ‚ĞµĞ¼Ğ½Ğ¾Ğµ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ Ğ² Ñ‡Ğ°Ñ‚
    lines_count = request.logs_data.count('\n')
    await database.execute(
        support_messages.insert().values(
            pubkey=x_pubkey,
            direction='user',
            message=f"ğŸ“ Debug-Ğ»Ğ¾Ğ³Ğ¸ Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ñ‹ ({lines_count} Ğ·Ğ°Ğ¿Ğ¸ÑĞµĞ¹)",
            created_at=datetime.utcnow(),
        )
    )
    
    await log_event("SUPPORT", "ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ñ‹ debug-Ğ»Ğ¾Ğ³Ğ¸", 
                    pubkey=x_pubkey, details={"log_id": log_id, "size": len(request.logs_data)})
    
    return {"log_id": log_id, "status": "received"}
```

### 4.2 WebSocket Ğ´Ğ»Ñ real-time (Ğ¾Ğ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾)

```python
# Ğ’ websocket_endpoint Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºÑƒ

if msg_type == "support-msg":
    # Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½ÑĞµĞ¼ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ Ğ² Ğ‘Ğ”
    text = message.get("text", "")
    if text and len(text) <= 5000:
        await database.execute(
            support_messages.insert().values(
                pubkey=pubkey,
                direction='user',
                message=text,
                created_at=datetime.utcnow(),
            )
        )

# Ğ”Ğ»Ñ Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²ĞºĞ¸ Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ° Ğ¾Ñ‚ Ğ°Ğ´Ğ¼Ğ¸Ğ½Ğ° (Ñ‡ĞµÑ€ĞµĞ· Redis pub/sub Ğ¸Ğ»Ğ¸ polling)
if msg_type == "support-reply":
    # ĞŸÑ€Ğ¸Ñ…Ğ¾Ğ´Ğ¸Ñ‚ ĞºĞ¾Ğ³Ğ´Ğ° Ğ°Ğ´Ğ¼Ğ¸Ğ½ Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ¸Ğ»
    pass
```

---

## 5. ĞĞ´Ğ¼Ğ¸Ğ½ĞºĞ° (OPHEUS_ADMIN)

### 5.1 ĞĞ¾Ğ²Ñ‹Ğ¹ Ñ€Ğ¾ÑƒÑ‚ĞµÑ€: support.py

```python
router = APIRouter(prefix="/api/support", tags=["support"])


@router.get("/chats")
async def get_support_chats(
    current_admin = Depends(get_current_active_admin),
    has_unread: Optional[bool] = None,
):
    """Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº Ğ²ÑĞµÑ… Ñ‡Ğ°Ñ‚Ğ¾Ğ² (ÑƒĞ½Ğ¸ĞºĞ°Ğ»ÑŒĞ½Ñ‹Ğµ pubkey Ñ Ğ¿Ğ¾ÑĞ»ĞµĞ´Ğ½Ğ¸Ğ¼ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸ĞµĞ¼)"""
    
    # ĞŸĞ¾Ğ´Ğ·Ğ°Ğ¿Ñ€Ğ¾Ñ: Ğ¿Ğ¾ÑĞ»ĞµĞ´Ğ½ĞµĞµ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ Ğ´Ğ»Ñ ĞºĞ°Ğ¶Ğ´Ğ¾Ğ³Ğ¾ pubkey
    query = """
        SELECT DISTINCT ON (pubkey) 
            pubkey,
            message as last_message,
            direction as last_direction,
            created_at as last_message_at,
            (SELECT COUNT(*) FROM support_messages sm2 
             WHERE sm2.pubkey = sm.pubkey 
             AND sm2.direction = 'user' 
             AND sm2.is_read = FALSE) as unread_count
        FROM support_messages sm
        ORDER BY pubkey, created_at DESC
    """
    
    chats = await database.fetch_all(query)
    return {"chats": [dict(c) for c in chats]}


@router.get("/chats/{pubkey}")
async def get_chat_messages(
    pubkey: str,
    current_admin = Depends(get_current_active_admin),
    limit: int = Query(100, le=500),
):
    """ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ñ ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ğ¾Ğ³Ğ¾ Ñ‡Ğ°Ñ‚Ğ°"""
    
    messages = await database.fetch_all(
        support_messages.select()
        .where(support_messages.c.pubkey == pubkey)
        .order_by(support_messages.c.id.desc())
        .limit(limit)
    )
    
    # ĞŸĞ¾Ğ¼ĞµÑ‡Ğ°ĞµĞ¼ ĞºĞ°Ğº Ğ¿Ñ€Ğ¾Ñ‡Ğ¸Ñ‚Ğ°Ğ½Ğ½Ñ‹Ğµ
    await database.execute(
        support_messages.update()
        .where(support_messages.c.pubkey == pubkey)
        .where(support_messages.c.direction == 'user')
        .values(is_read=True)
    )
    
    return {"messages": [dict(m) for m in reversed(messages)]}


@router.post("/chats/{pubkey}/reply")
async def reply_to_chat(
    pubkey: str,
    request: AdminReplyRequest,
    current_admin = Depends(get_current_active_admin),
):
    """ĞÑ‚Ğ²ĞµÑ‚Ğ¸Ñ‚ÑŒ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ"""
    
    msg_id = await database.execute(
        support_messages.insert().values(
            pubkey=pubkey,
            direction='admin',
            message=request.text,
            created_at=datetime.utcnow(),
            is_read=False,
        )
    )
    
    # ĞŸĞ¾Ğ¿Ñ‹Ñ‚ĞºĞ° Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ñ‡ĞµÑ€ĞµĞ· WebSocket ĞµÑĞ»Ğ¸ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ Ğ¾Ğ½Ğ»Ğ°Ğ¹Ğ½
    if pubkey in manager.active_connections:
        await manager.send_personal_message({
            "type": "support-reply",
            "text": request.text,
            "created_at": datetime.utcnow().isoformat(),
        }, pubkey)
    
    return {"id": msg_id, "status": "sent"}


@router.get("/chats/{pubkey}/logs")
async def get_user_logs(
    pubkey: str,
    current_admin = Depends(get_current_active_admin),
    limit: int = Query(10, le=50),
):
    """ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ debug-Ğ»Ğ¾Ğ³Ğ¸ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ"""
    
    logs = await database.fetch_all(
        client_debug_logs.select()
        .where(client_debug_logs.c.pubkey == pubkey)
        .order_by(client_debug_logs.c.id.desc())
        .limit(limit)
    )
    
    return {"logs": [dict(l) for l in logs]}
```

### 5.2 UI ÑˆĞ°Ğ±Ğ»Ğ¾Ğ½Ñ‹

```
app/templates/support/
  chats_list.html      # Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº Ğ²ÑĞµÑ… Ñ‡Ğ°Ñ‚Ğ¾Ğ² (pubkey + Ğ¿Ğ¾ÑĞ»ĞµĞ´Ğ½ĞµĞµ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ)
  chat_view.html       # ĞšĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ñ‹Ğ¹ Ñ‡Ğ°Ñ‚ + Ñ„Ğ¾Ñ€Ğ¼Ğ° Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ°
  logs_modal.html      # ĞœĞ¾Ğ´Ğ°Ğ»ÑŒĞ½Ğ¾Ğµ Ğ¾ĞºĞ½Ğ¾ Ñ debug-Ğ»Ğ¾Ğ³Ğ°Ğ¼Ğ¸
```

### 5.3 UI Ñ‡Ğ°Ñ‚Ğ° Ğ² Ğ°Ğ´Ğ¼Ğ¸Ğ½ĞºĞµ (ĞºĞ¾Ğ½Ñ†ĞµĞ¿Ñ‚)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Ğ§ĞĞ¢Ğ« ĞŸĞĞ”Ğ”Ğ•Ğ Ğ–ĞšĞ˜                                    [ğŸ”„ ĞĞ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â–¼ ĞĞ•ĞŸĞ ĞĞ§Ğ˜Ğ¢ĞĞĞĞ«Ğ• (2)        â”‚                                    â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â† 7abc12f...                      â”‚
â”‚ â”‚ ğŸ”´ 7abc12f...          â”‚ â”‚                                    â”‚
â”‚ â”‚ "ĞĞµ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ÑÑ‚ Ğ·Ğ²Ğ¾Ğ½ĞºĞ¸"   â”‚ â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚ 5 Ğ¼Ğ¸Ğ½ Ğ½Ğ°Ğ·Ğ°Ğ´            â”‚ â”‚  â”‚ ĞĞµ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ÑÑ‚ Ğ·Ğ²Ğ¾Ğ½ĞºĞ¸ Ñ‡ĞµÑ€ĞµĞ·    â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚ WiFi ÑƒĞ¶Ğµ Ğ²Ñ‚Ğ¾Ñ€Ğ¾Ğ¹ Ğ´ĞµĞ½ÑŒ         â”‚  â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚ â”‚ ğŸ”´ 9def45a...          â”‚ â”‚  14:32 â€¢ ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ              â”‚
â”‚ â”‚ "ğŸ“ Ğ›Ğ¾Ğ³Ğ¸ Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ñ‹"   â”‚ â”‚                                    â”‚
â”‚ â”‚ 12 Ğ¼Ğ¸Ğ½ Ğ½Ğ°Ğ·Ğ°Ğ´           â”‚ â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚ ğŸ“ Debug-Ğ»Ğ¾Ğ³Ğ¸ (247 Ğ·Ğ°Ğ¿Ğ¸ÑĞµĞ¹)  â”‚  â”‚
â”‚                            â”‚  â”‚ [ğŸ‘ ĞŸĞ¾ÑĞ¼Ğ¾Ñ‚Ñ€ĞµÑ‚ÑŒ Ğ»Ğ¾Ğ³Ğ¸]          â”‚  â”‚
â”‚ â–¼ Ğ’Ğ¡Ğ• Ğ§ĞĞ¢Ğ«                 â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  14:35 â€¢ ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ              â”‚
â”‚ â”‚ âšª 3ghi78b...          â”‚ â”‚                                    â”‚
â”‚ â”‚ "Ğ¡Ğ¿Ğ°ÑĞ¸Ğ±Ğ¾, Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚!"   â”‚ â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚ â”‚ Ğ²Ñ‡ĞµÑ€Ğ°                  â”‚ â”‚                                    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  [Ğ’Ğ°Ñˆ Ğ¾Ñ‚Ğ²ĞµÑ‚...]          [ĞÑ‚Ğ¿Ñ€Ğ°Ğ²Ğ¸Ñ‚ÑŒ]
â”‚                            â”‚                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 6. WebSocket Ñ‚Ğ¸Ğ¿Ñ‹ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğ¹

```json
// ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ â†’ Ğ¡ĞµÑ€Ğ²ĞµÑ€: Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²ĞºĞ° ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ñ
{"type": "support-msg", "text": "ĞŸÑ€Ğ¸Ğ²ĞµÑ‚, Ñƒ Ğ¼ĞµĞ½Ñ Ğ¿Ñ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ°..."}

// Ğ¡ĞµÑ€Ğ²ĞµÑ€ â†’ ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ: Ğ¾Ñ‚Ğ²ĞµÑ‚ Ğ¾Ñ‚ Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‡Ğ¸ĞºĞ°
{
    "type": "support-reply", 
    "text": "ĞŸÑ€Ğ¸Ğ²ĞµÑ‚! ĞĞ¿Ğ¸ÑˆĞ¸ Ğ¿Ğ¾Ğ´Ñ€Ğ¾Ğ±Ğ½ĞµĞµ...",
    "created_at": "2026-01-04T15:30:00Z"
}

// Ğ¡ĞµÑ€Ğ²ĞµÑ€ â†’ ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ: Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ¸Ğµ Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²ĞºĞ¸ Ğ»Ğ¾Ğ³Ğ¾Ğ²
{
    "type": "support-logs-received",
    "log_id": 123,
    "lines_count": 247
}
```

---

## 7. ĞŸĞ»Ğ°Ğ½ Ñ€ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸

### Ğ¤Ğ°Ğ·Ğ° 1: Ğ‘ÑĞºĞµĞ½Ğ´ (orpheus) â€” 1-2 Ğ´Ğ½Ñ
- [ ] Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ñ‹ `support_messages`, `client_debug_logs`
- [ ] API: GET/POST messages, POST logs
- [ ] WebSocket Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° `support-msg`
- [ ] ĞĞ²Ñ‚Ğ¾Ğ¾Ñ‡Ğ¸ÑÑ‚ĞºĞ° Ğ»Ğ¾Ğ³Ğ¾Ğ² ÑÑ‚Ğ°Ñ€ÑˆĞµ 30 Ğ´Ğ½ĞµĞ¹

### Ğ¤Ğ°Ğ·Ğ° 2: ĞĞ´Ğ¼Ğ¸Ğ½ĞºĞ° (OPHEUS_ADMIN) â€” 2 Ğ´Ğ½Ñ
- [ ] Ğ Ğ¾ÑƒÑ‚ĞµÑ€ `support.py`
- [ ] UI: ÑĞ¿Ğ¸ÑĞ¾Ğº Ñ‡Ğ°Ñ‚Ğ¾Ğ²
- [ ] UI: Ğ¿Ñ€Ğ¾ÑĞ¼Ğ¾Ñ‚Ñ€ Ñ‡Ğ°Ñ‚Ğ° + Ğ¾Ñ‚Ğ²ĞµÑ‚
- [ ] UI: Ğ¿Ñ€Ğ¾ÑĞ¼Ğ¾Ñ‚Ñ€ debug-Ğ»Ğ¾Ğ³Ğ¾Ğ²

### Ğ¤Ğ°Ğ·Ğ° 3: ĞšĞ»Ğ¸ĞµĞ½Ñ‚ (orpheus_client) â€” 2-3 Ğ´Ğ½Ñ
- [ ] `SupportChatService`
- [ ] `SupportChatScreen`
- [ ] ĞšĞ½Ğ¾Ğ¿ĞºĞ° "ğŸ“ ĞÑ‚Ğ¿Ñ€Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ»Ğ¾Ğ³Ğ¸"
- [ ] Ğ˜Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ Ğ² Settings
- [ ] Ğ¢ĞµÑÑ‚Ñ‹

### Ğ¤Ğ°Ğ·Ğ° 4: Ğ¢ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ â€” 1 Ğ´ĞµĞ½ÑŒ
- [ ] E2E: Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²ĞºĞ° ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ñ, Ğ¿Ğ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ°
- [ ] E2E: Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²ĞºĞ° Ğ»Ğ¾Ğ³Ğ¾Ğ², Ğ¿Ñ€Ğ¾ÑĞ¼Ğ¾Ñ‚Ñ€ Ğ² Ğ°Ğ´Ğ¼Ğ¸Ğ½ĞºĞµ

**Ğ˜Ñ‚Ğ¾Ğ³Ğ¾: ~6-8 Ğ´Ğ½ĞµĞ¹**

---

## 8. ĞŸÑ€ĞµĞ¸Ğ¼ÑƒÑ‰ĞµÑÑ‚Ğ²Ğ° Ğ½Ğ¾Ğ²Ğ¾Ğ³Ğ¾ Ğ¿Ğ¾Ğ´Ñ…Ğ¾Ğ´Ğ°

| ĞÑĞ¿ĞµĞºÑ‚ | Ğ¢Ğ¸ĞºĞµÑ‚Ğ½Ğ°Ñ ÑĞ¸ÑÑ‚ĞµĞ¼Ğ° | ĞŸĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ½Ñ‹Ğ¹ Ñ‡Ğ°Ñ‚ |
|--------|------------------|----------------|
| UX | Ğ¡Ğ»Ğ¾Ğ¶Ğ½Ñ‹Ğ¹ (ÑĞ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ â†’ Ğ·Ğ°ĞºÑ€Ñ‹Ñ‚ÑŒ) | ĞŸÑ€Ğ¾ÑÑ‚Ğ¾Ğ¹ (Ğ¿Ñ€Ğ¾ÑÑ‚Ğ¾ Ğ¿Ğ¸ÑˆĞ¸) |
| ĞšĞ¾Ğ´ | Ğ‘Ğ¾Ğ»ÑŒÑˆĞµ (ÑÑ‚Ğ°Ñ‚ÑƒÑÑ‹, Ğ¿Ñ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚ĞµÑ‚Ñ‹) | ĞœĞµĞ½ÑŒÑˆĞµ |
| Ğ‘Ğ” | 3 Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ñ‹ | 2 Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ñ‹ |
| Ğ’Ñ€ĞµĞ¼Ñ Ñ€ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸ | 10-12 Ğ´Ğ½ĞµĞ¹ | 6-8 Ğ´Ğ½ĞµĞ¹ |
| ĞŸĞ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ° | Ğ¤Ğ¾Ñ€Ğ¼Ğ°Ğ»ÑŒĞ½Ğ°Ñ | Ğ”Ñ€ÑƒĞ¶ĞµÑÑ‚Ğ²ĞµĞ½Ğ½Ğ°Ñ |

---

## 9. ĞÑ‚ĞºÑ€Ñ‹Ñ‚Ñ‹Ğµ Ğ²Ğ¾Ğ¿Ñ€Ğ¾ÑÑ‹

1. **Push-ÑƒĞ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ñ** Ğ¾ Ğ½Ğ¾Ğ²Ğ¾Ğ¼ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğ¸ Ğ¾Ñ‚ Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‡Ğ¸ĞºĞ°?
2. **Ğ£Ğ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ñ Ğ°Ğ´Ğ¼Ğ¸Ğ½Ñƒ** Ğ¾ Ğ½Ğ¾Ğ²Ñ‹Ñ… ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸ÑÑ… (email/Telegram)?
3. **Ğ¥Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ Ğ¸ÑÑ‚Ğ¾Ñ€Ğ¸Ğ¸**: Ğ²ĞµÑ‡Ğ½Ğ¾ Ğ¸Ğ»Ğ¸ N Ğ´Ğ½ĞµĞ¹?

---

## 10. Ğ—Ğ°ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ

ĞĞ¾Ğ²Ñ‹Ğ¹ ĞºĞ¾Ğ½Ñ†ĞµĞ¿Ñ‚:
- âœ… ĞŸÑ€Ğ¾Ñ‰Ğµ Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ (Ğ¾Ğ´Ğ¸Ğ½ Ñ‡Ğ°Ñ‚, Ğ²ÑĞµĞ³Ğ´Ğ° Ğ¾Ñ‚ĞºÑ€Ñ‹Ñ‚)
- âœ… ĞŸÑ€Ğ¾Ñ‰Ğµ Ğ² Ñ€ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸ (Ğ¼ĞµĞ½ÑŒÑˆĞµ ÑÑƒÑ‰Ğ½Ğ¾ÑÑ‚ĞµĞ¹)
- âœ… ĞšĞ½Ğ¾Ğ¿ĞºĞ° "ĞÑ‚Ğ¿Ñ€Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ»Ğ¾Ğ³Ğ¸" Ğ¿Ñ€ÑĞ¼Ğ¾ Ğ² Ñ‡Ğ°Ñ‚Ğµ
- âœ… Ğ Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‡Ğ¸Ğº Ğ²Ğ¸Ğ´Ğ¸Ñ‚ Ğ²ÑĞµ Ñ‡Ğ°Ñ‚Ñ‹ Ğ² Ğ¾Ğ´Ğ½Ğ¾Ğ¼ Ğ¼ĞµÑÑ‚Ğµ
- âœ… Ğ”Ñ€ÑƒĞ¶ĞµÑÑ‚Ğ²ĞµĞ½Ğ½Ğ°Ñ ĞºĞ¾Ğ¼Ğ¼ÑƒĞ½Ğ¸ĞºĞ°Ñ†Ğ¸Ñ Ğ²Ğ¼ĞµÑÑ‚Ğ¾ Ñ„Ğ¾Ñ€Ğ¼Ğ°Ğ»ÑŒĞ½Ñ‹Ñ… Ñ‚Ğ¸ĞºĞµÑ‚Ğ¾Ğ²
